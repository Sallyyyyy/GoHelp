USE GSSWEB
GO
SELECT QD.MM as [Quarter],COUNT(*) as [Cnt]
FROM
	(SELECT  CASE DATEPART(MONTH,BLR.LEND_DATE)
			WHEN '1'  THEN '2019/01~2019/03'
			WHEN '2'  THEN '2019/01~2019/03'
			WHEN '3'  THEN '2019/01~2019/03'
			WHEN '4'  THEN '2019/04~2019/06'
			WHEN '5'  THEN '2019/04~2019/06'
			WHEN '6'  THEN '2019/04~2019/06'
			WHEN '7'  THEN '2019/07~2019/09'
			WHEN '8'  THEN '2019/07~2019/09'
			WHEN '9'  THEN '2019/07~2019/09'
			ELSE '2019/10~2019/12'
			END
			AS [MM]
			, COUNT(*) as [Cnt]
	FROM dbo.BOOK_LEND_RECORD as BLR
	WHERE DATEPART(YEAR,BLR.LEND_DATE) = '2019'
	GROUP BY BLR.LEND_DATE) as QD
GROUP BY QD.MM
